{"id":"WonderByWandering-8di","title":"Epic 1: Knowledge Atlas Design System Foundation","description":"Design tokens, semantic roles, card anatomy, and motion choreography. All issues produce code files imported by React components in later epics. 4 issues.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:09:42.821438-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:09:42.821438-08:00"}
{"id":"WonderByWandering-8di.1","title":"E1-1: Define design tokens","description":"File: src/tokens/tokens.ts (or .css with custom properties)\n\nToken categories: Color (atlas paper #faf9f6, card surface, text levels, 6 path accent colors, edge, error, success), Typography (system sans-serif, 12/14/16/18/24px, weights 400-700), Spacing (4px base: 4/8/12/16/24/32/48), Border radius (card 12px, button 8px, badge 16px), Shadow (card default/active), Motion (fast 150ms, medium 250ms, slow 400ms, easing curves).\n\nAcceptance:\n- [ ] Tokens file exists and is importable\n- [ ] All 6 path accent colors defined (placeholders ok if E0-2 not done)\n- [ ] Reduced-motion token: --motion-duration-reduced: 0ms","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:11:25.566781-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:32:31.010498-08:00","closed_at":"2026-02-13T14:32:31.010498-08:00","close_reason":"Closed","labels":["code","epic-1"],"dependencies":[{"issue_id":"WonderByWandering-8di.1","depends_on_id":"WonderByWandering-8di","type":"parent-child","created_at":"2026-02-13T14:11:25.567458-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-8di.2","title":"E1-2: Define semantic roles","description":"File: src/tokens/tokens.ts (add semantic aliases)\n\nMap tokens to 4 semantic roles: Atlas Paper (--paper-bg, --paper-grid-dot), Atlas Routes (--route-color, --route-active-color, opacity idle/active), Atlas Cards (--card-bg, border, text, shadow), Atlas Signals (--signal-loading blue, error red, success green, pulse animation).\n\nAcceptance:\n- [ ] All semantic tokens resolve to base tokens from E1-1\n- [ ] Naming convention consistent (--atlas-{role}-{property} or similar)","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:11:30.078346-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:43:28.381546-08:00","closed_at":"2026-02-13T14:43:28.381546-08:00","close_reason":"Closed","labels":["code","epic-1"],"dependencies":[{"issue_id":"WonderByWandering-8di.2","depends_on_id":"WonderByWandering-8di","type":"parent-child","created_at":"2026-02-13T14:11:30.078934-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-8di.2","depends_on_id":"WonderByWandering-8di.1","type":"blocks","created_at":"2026-02-13T14:17:10.305359-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-8di.3","title":"E1-3: Define AtlasCard anatomy","description":"Files: docs/specs/card-anatomy.md + optional src/components/AtlasCard/AtlasCard.module.css skeleton\n\nCard layout (top→bottom): Path badge (colored pill, top-left), Question (16px/600, max 3 lines), Context line (14px/400 muted, 1 line), Show Answer button (centered CTA), Answer body (hidden until revealed: summary + bullets), Branch footer (post-reveal: 2 buttons).\nSizing: min-width 280px, max-width 360px, padding 16px, gap 8px.\n\nAcceptance:\n- [ ] Visual spec with measurements\n- [ ] All states shown: question-only, loading, error, resolved, branching\n- [ ] Typography/spacing reference E1-1 tokens","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:11:35.124442-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:43:28.40708-08:00","closed_at":"2026-02-13T14:43:28.40708-08:00","close_reason":"Closed","labels":["code","epic-1","spec"],"dependencies":[{"issue_id":"WonderByWandering-8di.3","depends_on_id":"WonderByWandering-8di","type":"parent-child","created_at":"2026-02-13T14:11:35.125087-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-8di.3","depends_on_id":"WonderByWandering-8di.1","type":"blocks","created_at":"2026-02-13T14:17:10.394542-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-8di.3","depends_on_id":"WonderByWandering-jin.1","type":"blocks","created_at":"2026-02-13T14:17:10.478959-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-8di.4","title":"E1-4: Define motion choreography","description":"File: src/utils/motion.ts\n\nChoreography: (1) Initial tree spawn - edges draw via stroke-dasharray 200ms, cards fade+scale 0.95→1.0 at 150ms, sibling stagger 100ms. (2) Answer reveal - card height expand 250ms, content fade 150ms with 50ms delay. (3) Branch spawn - same as 1 relative to parent. (4) Reduced-motion - all durations 0ms, transforms instant, opacity preserved.\n\nAcceptance:\n- [ ] Motion constants exported and importable\n- [ ] prefers-reduced-motion media query respected\n- [ ] Timing values tested: no overlap causing visual jank","status":"closed","priority":2,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:11:39.851788-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:43:28.429623-08:00","closed_at":"2026-02-13T14:43:28.429623-08:00","close_reason":"Closed","labels":["code","epic-1"],"dependencies":[{"issue_id":"WonderByWandering-8di.4","depends_on_id":"WonderByWandering-8di","type":"parent-child","created_at":"2026-02-13T14:11:39.852467-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-8di.4","depends_on_id":"WonderByWandering-8di.1","type":"blocks","created_at":"2026-02-13T14:17:10.568701-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-art","title":"Epic 4: Radial Suggestion UX (Conversation Compass)","description":"Centered radial menu for selecting conversation paths, path-click-to-node-tree creation, and map-like staging animation. 3 issues.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:09:57.080765-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:09:57.080765-08:00"}
{"id":"WonderByWandering-art.1","title":"E4-1: Build centered radial menu component","description":"File: src/components/ConversationCompass/ConversationCompass.tsx\n\nRenders when uiMode === 'compass'. Centered overlay on React Flow canvas. Source text excerpt at center (~100 chars). 6 path buttons in circle (60-degree spacing) with icon, label, accent color. Hover: scale up + tooltip. Click: triggers E4-2 node creation, dismisses compass.\n\nAcceptance:\n- [ ] Compass renders centered on canvas load\n- [ ] All 6 paths visible with correct labels and colors\n- [ ] Clicking path triggers callback\n- [ ] Visually polished (not debug UI)\n- [ ] Responsive to canvas sizes","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:13:53.541729-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:13:53.541729-08:00","labels":["code","epic-4"],"dependencies":[{"issue_id":"WonderByWandering-art.1","depends_on_id":"WonderByWandering-art","type":"parent-child","created_at":"2026-02-13T14:13:53.542559-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-art.1","depends_on_id":"WonderByWandering-tyg.2","type":"blocks","created_at":"2026-02-13T14:18:04.361762-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-art.1","depends_on_id":"WonderByWandering-jin.2","type":"blocks","created_at":"2026-02-13T14:18:04.448686-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-art.1","depends_on_id":"WonderByWandering-8di.1","type":"blocks","created_at":"2026-02-13T14:18:04.53484-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-art.2","title":"E4-2: Implement path click → node tree creation","description":"Files: ConversationCompass.tsx + src/store/atlasStore.ts\n\nOn path click: (1) Call mock gen with (sourceText, pathType) → {rootQuestion, branches}, (2) Create root node at center, (3) Create 2-3 branch nodes radially (~200px distance), (4) Create edges root→branches, (5) Set uiMode to 'exploring' and activeNodeId to root, (6) Dismiss compass, (7) fitView().\n\nAcceptance:\n- [ ] Clicking path creates 1 root + 2-3 branches\n- [ ] Nodes are AtlasCards with question content\n- [ ] Edges connect root to branches\n- [ ] No overlapping nodes\n- [ ] Compass disappears after selection","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:13:58.963758-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:13:58.963758-08:00","labels":["code","epic-4"],"dependencies":[{"issue_id":"WonderByWandering-art.2","depends_on_id":"WonderByWandering-art","type":"parent-child","created_at":"2026-02-13T14:13:58.964437-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-art.2","depends_on_id":"WonderByWandering-art.1","type":"blocks","created_at":"2026-02-13T14:18:04.619361-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-art.2","depends_on_id":"WonderByWandering-tyg.3","type":"blocks","created_at":"2026-02-13T14:18:04.703388-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-art.2","depends_on_id":"WonderByWandering-tyg.4","type":"blocks","created_at":"2026-02-13T14:18:04.787678-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-art.2","depends_on_id":"WonderByWandering-wq8.1","type":"blocks","created_at":"2026-02-13T14:18:04.875301-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-art.3","title":"E4-3: Apply map-like staging animation","description":"Files: AtlasConnector.tsx + AtlasCard.tsx\n\nOn tree spawn: (1) Edges start with stroke-dasharray, animate dashoffset full→0 (200ms), (2) Cards start opacity:0 scale:0.95, animate to 1/1.0 with 150ms delay after parent edge, (3) Stagger 100ms between siblings. Add isNew flag, trigger CSS animation on mount, clear after.\n\nAcceptance:\n- [ ] Edges visibly draw before cards appear\n- [ ] Cards fade in at endpoints\n- [ ] Stagger creates satisfying unveiling feel\n- [ ] Reduced motion: instant appearance\n- [ ] Animation doesn't re-trigger on viewport changes","status":"open","priority":2,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:14:03.728808-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:14:03.728808-08:00","labels":["code","epic-4"],"dependencies":[{"issue_id":"WonderByWandering-art.3","depends_on_id":"WonderByWandering-art","type":"parent-child","created_at":"2026-02-13T14:14:03.729447-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-art.3","depends_on_id":"WonderByWandering-8di.4","type":"blocks","created_at":"2026-02-13T14:18:04.964861-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-art.3","depends_on_id":"WonderByWandering-art.2","type":"blocks","created_at":"2026-02-13T14:18:05.060455-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-doo","title":"Epic 2: Extension Switchover Flow","description":"Modify existing extension files to add 'Explore on Canvas' context menu, session payload storage, and canvas page. Must preserve all existing functionality. 3 issues.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:09:56.8657-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:09:56.8657-08:00"}
{"id":"WonderByWandering-doo.1","title":"E2-1: Add Explore on Canvas context menu action","description":"File: background.js (lines 60-73)\n\nAdd third context menu entry: { id: 'ExploreOnCanvas', title: 'Explore on Canvas', contexts: ['selection'] }\nAdd handler case in onClicked listener: stub that logs info.selectionText.\n\nAcceptance:\n- [ ] Right-click selected text shows 'Explore on Canvas' alongside existing items\n- [ ] Existing 'List Key Points' and YouTube items still work unchanged\n- [ ] Handler stub logs selection text to service worker console","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:12:09.829518-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:32:31.035749-08:00","closed_at":"2026-02-13T14:32:31.035749-08:00","close_reason":"Closed","labels":["code","epic-2"],"dependencies":[{"issue_id":"WonderByWandering-doo.1","depends_on_id":"WonderByWandering-doo","type":"parent-child","created_at":"2026-02-13T14:12:09.83022-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-doo.2","title":"E2-2: Create session payload schema and storage","description":"File: background.js (ExploreOnCanvas handler)\n\nSession payload: { sessionId: crypto.randomUUID(), sourceText, coreQuestion: 'What are the key ideas here?', pathSuggestions: [6 Compass labels], demoMode: true, createdAt: Date.now() }\nWrite to chrome.storage.local keyed by session_{sessionId}. Pass sessionId to E2-3 page-open logic.\n\nAcceptance:\n- [ ] Session written to chrome.storage.local and retrievable by sessionId\n- [ ] demoMode defaults to true\n- [ ] pathSuggestions has exactly 6 entries matching E0-2 path labels\n- [ ] TODO comment for session TTL cleanup","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:12:14.440148-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:43:28.45334-08:00","closed_at":"2026-02-13T14:43:28.45334-08:00","close_reason":"Closed","labels":["code","epic-2"],"dependencies":[{"issue_id":"WonderByWandering-doo.2","depends_on_id":"WonderByWandering-doo","type":"parent-child","created_at":"2026-02-13T14:12:14.440746-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-doo.2","depends_on_id":"WonderByWandering-jin.2","type":"blocks","created_at":"2026-02-13T14:17:25.661444-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-doo.3","title":"E2-3: Create extension-owned canvas page","description":"Files: canvas.html (new), manifest.json (update)\n\nAdd canvas.html to web_accessible_resources in manifest.json. In ExploreOnCanvas handler: chrome.tabs.create({ url: chrome.runtime.getURL('canvas.html?sessionId=...') }). canvas.html is minimal shell with div#root and script tag pointing to dist/canvas.js. Placeholder displays sessionId and sourceText from storage.\n\nAcceptance:\n- [ ] Right-click 'Explore on Canvas' opens new tab with canvas.html?sessionId=...\n- [ ] Page reads sessionId from URL and displays it\n- [ ] Page loads session data from chrome.storage.local and displays sourceText\n- [ ] Manifest updated without breaking existing extension\n\nGotcha: chrome-extension:// CSP may block inline scripts — use external script file.","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:12:19.48261-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:12:19.48261-08:00","labels":["code","epic-2"],"dependencies":[{"issue_id":"WonderByWandering-doo.3","depends_on_id":"WonderByWandering-doo","type":"parent-child","created_at":"2026-02-13T14:12:19.483262-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-doo.3","depends_on_id":"WonderByWandering-doo.1","type":"blocks","created_at":"2026-02-13T14:17:25.747719-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-doo.3","depends_on_id":"WonderByWandering-doo.2","type":"blocks","created_at":"2026-02-13T14:17:25.832063-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-gfn","title":"Epic 7: Demo Polish + Guardrails","description":"Canvas toolbar, active-thread highlight, branch summarization, graceful error fallbacks, and performance optimization. Final polish layer. 5 issues.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:09:57.400553-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:09:57.400553-08:00"}
{"id":"WonderByWandering-gfn.1","title":"E7-1: Build canvas toolbar","description":"File: src/components/Toolbar/Toolbar.tsx\n\nFloating toolbar, top-right: Reset (refresh icon, clears canvas → compass), Recenter (crosshair, pan to activeNodeId), Fit All (expand, fitView()), Demo Mode toggle (flask, switches demoMode). Semi-transparent bg, icon buttons, tooltip on hover.\n\nAcceptance:\n- [ ] All 4 buttons functional\n- [ ] Reset returns to compass without page reload\n- [ ] Demo Mode toggle visually indicates on/off\n- [ ] Toolbar doesn't obscure nodes","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:16:19.540758-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:16:19.540758-08:00","labels":["code","epic-7"],"dependencies":[{"issue_id":"WonderByWandering-gfn.1","depends_on_id":"WonderByWandering-gfn","type":"parent-child","created_at":"2026-02-13T14:16:19.541448-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.1","depends_on_id":"WonderByWandering-tyg.5","type":"blocks","created_at":"2026-02-13T14:19:04.972697-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.1","depends_on_id":"WonderByWandering-wq8.1","type":"blocks","created_at":"2026-02-13T14:19:05.062163-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-gfn.2","title":"E7-2: Add back-to-seed and active-thread highlight","description":"Files: atlasStore.ts + AtlasConnector.tsx\n\nBack to seed: button that pans to root + selects it. Active thread: compute path root→activeNode via BFS/DFS. Edges on path: opacity 1.0 + pulse. Others: 0.3 + no animation. Nodes on path: elevated shadow. Store activeThread: string[] in Zustand.\n\nAcceptance:\n- [ ] Clicking any node highlights root-to-node path\n- [ ] Non-active edges visibly dimmed\n- [ ] Back to seed navigates to root\n- [ ] Fast even at 30 nodes","status":"open","priority":2,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:16:24.29519-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:16:24.29519-08:00","labels":["code","epic-7"],"dependencies":[{"issue_id":"WonderByWandering-gfn.2","depends_on_id":"WonderByWandering-gfn","type":"parent-child","created_at":"2026-02-13T14:16:24.295822-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.2","depends_on_id":"WonderByWandering-art.2","type":"blocks","created_at":"2026-02-13T14:19:05.148835-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.2","depends_on_id":"WonderByWandering-tyg.4","type":"blocks","created_at":"2026-02-13T14:19:05.238455-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-gfn.3","title":"E7-3: Add summarize branch action","description":"Files: AtlasCard.tsx + src/components/BranchSummary.tsx\n\nOn non-leaf nodes: Summarize button collapses all descendants into summary card showing branch topic, node count, key bullets from revealed answers. Expand button restores all hidden nodes with positions/edges.\n\nAcceptance:\n- [ ] Summarize hides descendants and shows summary card\n- [ ] Expand restores descendants with correct positions/edges\n- [ ] Summary content is meaningful\n- [ ] Works with 2+ levels of nesting","status":"open","priority":3,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:16:28.816612-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:16:28.816612-08:00","labels":["code","epic-7"],"dependencies":[{"issue_id":"WonderByWandering-gfn.3","depends_on_id":"WonderByWandering-gfn","type":"parent-child","created_at":"2026-02-13T14:16:28.817298-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.3","depends_on_id":"WonderByWandering-l65.3","type":"blocks","created_at":"2026-02-13T14:19:05.339043-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-gfn.4","title":"E7-4: Implement graceful error fallbacks","description":"Files: multiple (AtlasCard, ConversationCompass, generation pipeline)\n\nHandle: (1) Empty/short selection (\u003c10 chars) → message in compass, (2) Missing API key + demoMode=false → auto-switch to demo + toast, (3) Network failure → error state + retry, (4) Gemini safety filter → error + mock fallback, (5) Rate limit → exponential backoff 1s/2s/4s.\n\nAcceptance:\n- [ ] Each scenario handled without crash/blank screen\n- [ ] Error messages user-friendly (no raw API errors)\n- [ ] Demo mode as complete fallback for all API failures\n- [ ] Empty selection caught before canvas opens (in background.js)","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:16:34.110251-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:16:34.110251-08:00","labels":["code","epic-7"],"dependencies":[{"issue_id":"WonderByWandering-gfn.4","depends_on_id":"WonderByWandering-gfn","type":"parent-child","created_at":"2026-02-13T14:16:34.110928-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.4","depends_on_id":"WonderByWandering-l65.4","type":"blocks","created_at":"2026-02-13T14:19:05.449472-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.4","depends_on_id":"WonderByWandering-wq8.2","type":"blocks","created_at":"2026-02-13T14:19:05.672246-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-gfn.5","title":"E7-5: Performance optimization for 30+ nodes","description":"Files: AtlasCard.tsx, AtlasConnector.tsx, atlasStore.ts\n\nReact.memo on card/connector. Verify React Flow viewport culling active. Zustand selectors: components subscribe only to needed state. Debounce persist writes. Profile with React DevTools. Target: 60fps pan/zoom at 30 visible nodes.\n\nAcceptance:\n- [ ] No jank panning/zooming with 30+ nodes\n- [ ] React DevTools shows no unnecessary re-renders on pan/zoom\n- [ ] Memory stable (no leaks on repeated branch creation)","status":"open","priority":2,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:16:39.615836-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:16:39.615836-08:00","labels":["code","epic-7"],"dependencies":[{"issue_id":"WonderByWandering-gfn.5","depends_on_id":"WonderByWandering-gfn","type":"parent-child","created_at":"2026-02-13T14:16:39.616521-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.5","depends_on_id":"WonderByWandering-tyg.3","type":"blocks","created_at":"2026-02-13T14:19:05.761809-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.5","depends_on_id":"WonderByWandering-tyg.4","type":"blocks","created_at":"2026-02-13T14:19:05.850619-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-gfn.5","depends_on_id":"WonderByWandering-l65.3","type":"blocks","created_at":"2026-02-13T14:19:05.939608-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-jin","title":"Epic 0: Product Interaction Model","description":"Design spec documents defining the core UX contracts for the Knowledge Atlas. All issues produce markdown spec files in docs/specs/. No code output. 4 issues, all parallel with no blockers.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:09:37.245572-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:09:37.245572-08:00"}
{"id":"WonderByWandering-jin.1","title":"E0-1: Define question-first interaction model","description":"Deliverable: docs/specs/interaction-model.md\n\nDocument the core UX contract:\n- Every node shows a question first; answer appears only on explicit user action (Show answer)\n- State machine: question-only → loading → answer-revealed → branching\n- Transition triggers: Show answer click → loading; generation complete → answer-revealed; Branch from click → branching (creates children)\n- Node never auto-expands or auto-generates\n\nAcceptance criteria:\n- [ ] Spec covers all 4 states and their visual differences\n- [ ] Transition triggers are unambiguous\n- [ ] Edge cases documented: what if generation fails? (→ error state with retry)","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:10:34.508798-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:32:30.90901-08:00","closed_at":"2026-02-13T14:32:30.90901-08:00","close_reason":"Closed","labels":["epic-0","spec"],"dependencies":[{"issue_id":"WonderByWandering-jin.1","depends_on_id":"WonderByWandering-jin","type":"parent-child","created_at":"2026-02-13T14:10:34.50993-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-jin.2","title":"E0-2: Define Conversation Compass radial semantics","description":"Deliverable: docs/specs/compass-paths.md\n\nDefine the 6 conversation paths (Clarify, Go Deeper, Challenge, Apply, Connect, Surprise Me), each a distinct cognitive lens. For each path define: Label, Icon concept, Color accent (hex), Prompt template shape.\n\nAcceptance criteria:\n- [ ] All 6 paths defined with all 4 attributes\n- [ ] Example outputs for a sample input demonstrate clearly distinct cognitive angles\n- [ ] Path colors have sufficient contrast against atlas paper background (#faf9f6)","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:10:39.248388-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:32:30.934799-08:00","closed_at":"2026-02-13T14:32:30.934799-08:00","close_reason":"Closed","labels":["epic-0","spec"],"dependencies":[{"issue_id":"WonderByWandering-jin.2","depends_on_id":"WonderByWandering-jin","type":"parent-child","created_at":"2026-02-13T14:10:39.249074-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-jin.3","title":"E0-3: Define connector style specification","description":"Deliverable: docs/specs/connector-style.md\n\nSingle edge style: cubic bezier (React Flow BezierEdge), 2px stroke, --atlas-route-color token.\nStates: Idle (opacity 0.3), Active thread (opacity 1.0, pulse 0.8→1.0 2s), Hover (opacity 0.6).\nNo labels, no arrowheads.\n\nAcceptance criteria:\n- [ ] Spec includes exact CSS/animation values\n- [ ] Reduced-motion fallback: no animation, opacity snap\n- [ ] Single style handles all use cases","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:10:43.683424-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:32:30.960197-08:00","closed_at":"2026-02-13T14:32:30.960197-08:00","close_reason":"Closed","labels":["epic-0","spec"],"dependencies":[{"issue_id":"WonderByWandering-jin.3","depends_on_id":"WonderByWandering-jin","type":"parent-child","created_at":"2026-02-13T14:10:43.684206-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-jin.4","title":"E0-4: Define dual success targets","description":"Deliverable: docs/specs/demo-acceptance.md\n\nCodify the two hero moments as testable checklists:\nVisual hero (map exploration feel): edges draw before cards, cards fade in at endpoints.\nCognitive hero (distinct thinking lenses): 6 paths produce different questions, non-expert can identify lens.\nDemo functional: selection→canvas handoff, mock mode works, canvas legible at 15+ nodes.\n\nAcceptance criteria:\n- [ ] Checklist is written and agreed upon before any E7 polish work begins","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:10:49.051542-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:32:30.984679-08:00","closed_at":"2026-02-13T14:32:30.984679-08:00","close_reason":"Closed","labels":["epic-0","spec"],"dependencies":[{"issue_id":"WonderByWandering-jin.4","depends_on_id":"WonderByWandering-jin","type":"parent-child","created_at":"2026-02-13T14:10:49.052223-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-l65","title":"Epic 5: Question-First Node Lifecycle","description":"Interactive behaviors for AtlasCard: question-only default, answer reveal, branch options, and node state machine. 4 issues.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:09:57.18744-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:09:57.18744-08:00"}
{"id":"WonderByWandering-l65.1","title":"E5-1: Implement question-only default render","description":"File: src/components/AtlasCard/AtlasCard.tsx\n\nDefault render: path badge (colored pill with label), question text (large/prominent), context line (why this path, muted), Show Answer button (centered CTA). Answer body and branch footer are NOT rendered (absent from DOM).\n\nAcceptance:\n- [ ] New nodes show only question + context + button\n- [ ] No answer content visible or in DOM\n- [ ] Card height is compact (question + button only)\n- [ ] Path badge shows correct accent color","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:14:36.36863-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:14:36.36863-08:00","labels":["code","epic-5"],"dependencies":[{"issue_id":"WonderByWandering-l65.1","depends_on_id":"WonderByWandering-l65","type":"parent-child","created_at":"2026-02-13T14:14:36.369396-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-l65.1","depends_on_id":"WonderByWandering-tyg.3","type":"blocks","created_at":"2026-02-13T14:18:25.819565-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-l65.2","title":"E5-2: Implement answer reveal interaction","description":"Files: AtlasCard.tsx + atlasStore.ts\n\nShow Answer click: (1) Set nodeStates[nodeId] to loading, (2) Call generateAnswer(nodeData) — mock or Gemini, (3) On success: store answer in node.data, set resolved, answerVisibility=true, (4) On error: set error state + retry button. Card expands to show bold summary + 3-4 bullets.\n\nAcceptance:\n- [ ] Click Show Answer → loading → answer appears\n- [ ] Answer matches E1-3 body spec (summary + bullets)\n- [ ] Card height animates smoothly\n- [ ] Error state shows retry button\n- [ ] Works with mock data (no Gemini required)","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:14:41.440208-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:14:41.440208-08:00","labels":["code","epic-5"],"dependencies":[{"issue_id":"WonderByWandering-l65.2","depends_on_id":"WonderByWandering-l65","type":"parent-child","created_at":"2026-02-13T14:14:41.441038-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-l65.2","depends_on_id":"WonderByWandering-l65.1","type":"blocks","created_at":"2026-02-13T14:18:25.904466-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-l65.2","depends_on_id":"WonderByWandering-l65.4","type":"blocks","created_at":"2026-02-13T14:18:25.99326-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-l65.2","depends_on_id":"WonderByWandering-wq8.1","type":"blocks","created_at":"2026-02-13T14:18:26.08171-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-l65.3","title":"E5-3: Implement branch options after reveal","description":"Files: AtlasCard.tsx + atlasStore.ts\n\nAfter answer revealed: show 2 buttons — 'Branch from question' and 'Branch from answer'. On click: call generateBranches, create 2-3 child AtlasCard nodes + edges, position below parent (dagre or manual 200px offset). New nodes start in question-only state.\n\nAcceptance:\n- [ ] Branch buttons appear only after answer revealed\n- [ ] Clicking creates 2-3 new question-only children with edges\n- [ ] No overlapping nodes (layout handles it)\n- [ ] Exploration cycle works: question → answer → branch → repeat\n\nGotcha: Consider dagre library for tree layout. Test with 3 levels.","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:14:47.094423-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:14:47.094423-08:00","labels":["code","epic-5"],"dependencies":[{"issue_id":"WonderByWandering-l65.3","depends_on_id":"WonderByWandering-l65","type":"parent-child","created_at":"2026-02-13T14:14:47.095063-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-l65.3","depends_on_id":"WonderByWandering-l65.2","type":"blocks","created_at":"2026-02-13T14:18:26.168986-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-l65.3","depends_on_id":"WonderByWandering-tyg.4","type":"blocks","created_at":"2026-02-13T14:18:26.256825-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-l65.3","depends_on_id":"WonderByWandering-wq8.1","type":"blocks","created_at":"2026-02-13T14:18:26.342563-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-l65.4","title":"E5-4: Implement node state machine","description":"Files: src/utils/nodeStates.ts + AtlasCard.tsx\n\n4 states: idle (default, Show Answer enabled), loading (pulse border, spinner, interactions disabled), error (red border, error message, Retry button), resolved (answer visible, branch buttons visible).\n\nTransitions: idle→loading (Show Answer click), loading→resolved (success), loading→error (failure), error→loading (Retry).\n\nAcceptance:\n- [ ] Each state visually distinct\n- [ ] Transitions driven by Zustand actions only (no local state)\n- [ ] Error shows user-friendly message\n- [ ] Loading prevents duplicate generation calls","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:14:52.836351-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:14:52.836351-08:00","labels":["code","epic-5"],"dependencies":[{"issue_id":"WonderByWandering-l65.4","depends_on_id":"WonderByWandering-l65","type":"parent-child","created_at":"2026-02-13T14:14:52.83702-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-l65.4","depends_on_id":"WonderByWandering-tyg.3","type":"blocks","created_at":"2026-02-13T14:18:26.437584-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-l65.4","depends_on_id":"WonderByWandering-8di.2","type":"blocks","created_at":"2026-02-13T14:18:26.526691-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-tyg","title":"Epic 3: React Flow + Zustand Canvas Runtime","description":"Build toolchain setup (React + Vite), Zustand store, AtlasCard/AtlasConnector custom components, viewport controls, and canvas persistence. Core infrastructure hub that feeds Epics 4-7. 6 issues.","status":"open","priority":0,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:09:56.973089-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:09:56.973089-08:00"}
{"id":"WonderByWandering-tyg.1","title":"E3-1: Set up React + Vite build toolchain","description":"Files: package.json, tsconfig.json, vite.config.ts, src/main.tsx, src/App.tsx\n\nDeps: react, react-dom, @xyflow/react, zustand, vite, @vitejs/plugin-react, typescript. Output to dist/, base './', target chrome110, no code splitting. Keep background.js as plain JS. Only canvas page uses React build.\n\nAcceptance:\n- [ ] npm install succeeds\n- [ ] npm run build produces working output\n- [ ] canvas.html loads React app with React Flow empty canvas\n- [ ] Existing extension features still work\n- [ ] TypeScript compiles without errors","status":"open","priority":0,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:13:00.103463-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:13:00.103463-08:00","labels":["code","epic-3"],"dependencies":[{"issue_id":"WonderByWandering-tyg.1","depends_on_id":"WonderByWandering-tyg","type":"parent-child","created_at":"2026-02-13T14:13:00.104197-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-tyg.1","depends_on_id":"WonderByWandering-doo.3","type":"blocks","created_at":"2026-02-13T14:17:43.757831-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-tyg.2","title":"E3-2: Set up Zustand store","description":"File: src/store/atlasStore.ts\n\nAtlasState: nodes, edges, session, activeNodeId, uiMode ('compass'|'exploring'), answerVisibility Record\u003cstring,boolean\u003e, nodeStates Record\u003cstring,NodeState\u003e. Actions: addNode, addEdge, setActiveNode, toggleAnswer, setNodeState, setUiMode, loadSession, resetCanvas. React Flow callbacks: onNodesChange, onEdgesChange.\n\nAcceptance:\n- [ ] Store is importable and functional\n- [ ] loadSession reads from chrome.storage.local\n- [ ] onNodesChange/onEdgesChange wired for controlled flow\n- [ ] All actions update state immutably","status":"open","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:13:04.317844-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:13:04.317844-08:00","labels":["code","epic-3"],"dependencies":[{"issue_id":"WonderByWandering-tyg.2","depends_on_id":"WonderByWandering-tyg","type":"parent-child","created_at":"2026-02-13T14:13:04.318807-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-tyg.2","depends_on_id":"WonderByWandering-tyg.1","type":"blocks","created_at":"2026-02-13T14:17:43.847166-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-tyg.3","title":"E3-3: Build AtlasCard custom React Flow node","description":"Files: src/components/AtlasCard/AtlasCard.tsx, AtlasCard.module.css\n\nStructural shell only. Renders as custom React Flow node. Reads node.data (question, context, answer, pathType). Reads Zustand state (answerVisibility, nodeStates, activeNodeId). Applies design tokens and card anatomy from E1-3. Has source/target handles for vertical tree layout. Does NOT contain generation logic.\n\nAcceptance:\n- [ ] Card renders with question text per E1-3 anatomy\n- [ ] Card highlights when activeNodeId matches\n- [ ] Card applies path-type accent color\n- [ ] Handles positioned for vertical tree layout\n- [ ] Component is React.memo memoized","status":"open","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:13:09.09267-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:13:09.09267-08:00","labels":["code","epic-3"],"dependencies":[{"issue_id":"WonderByWandering-tyg.3","depends_on_id":"WonderByWandering-tyg","type":"parent-child","created_at":"2026-02-13T14:13:09.093948-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-tyg.3","depends_on_id":"WonderByWandering-8di.3","type":"blocks","created_at":"2026-02-13T14:17:43.936086-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-tyg.3","depends_on_id":"WonderByWandering-tyg.2","type":"blocks","created_at":"2026-02-13T14:17:44.024183-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-tyg.4","title":"E3-4: Build AtlasConnector custom edge","description":"File: src/components/AtlasConnector/AtlasConnector.tsx\n\nCustom React Flow edge extending BezierEdge. Reads Zustand for active thread detection. Opacity: 0.3 idle, 1.0 active, 0.6 hover. Pulse animation on active (CSS keyframes). Respects prefers-reduced-motion. Single stroke: 2px, --route-color.\n\nAcceptance:\n- [ ] Edge renders between connected nodes\n- [ ] Active thread edges visually distinct\n- [ ] Pulse animation on active, stops on idle\n- [ ] Reduced-motion: no animation, instant opacity\n- [ ] Component is memoized","status":"open","priority":1,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:13:13.62938-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:13:13.62938-08:00","labels":["code","epic-3"],"dependencies":[{"issue_id":"WonderByWandering-tyg.4","depends_on_id":"WonderByWandering-tyg","type":"parent-child","created_at":"2026-02-13T14:13:13.63-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-tyg.4","depends_on_id":"WonderByWandering-jin.3","type":"blocks","created_at":"2026-02-13T14:17:44.114112-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-tyg.4","depends_on_id":"WonderByWandering-tyg.1","type":"blocks","created_at":"2026-02-13T14:17:44.19953-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-tyg.5","title":"E3-5: Implement viewport controls","description":"File: src/App.tsx or src/components/CanvasControls.tsx\n\nReact Flow built-in controls: pan (click+drag), zoom (scroll/pinch), fit view (Cmd+0 shortcut), optional minimap.\n\nAcceptance:\n- [ ] Pan, zoom, node drag all work smoothly\n- [ ] Fit-to-view via keyboard and button\n- [ ] No zoom/pan conflicts with node interactions","status":"open","priority":2,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:13:19.328876-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:13:19.328876-08:00","labels":["code","epic-3"],"dependencies":[{"issue_id":"WonderByWandering-tyg.5","depends_on_id":"WonderByWandering-tyg","type":"parent-child","created_at":"2026-02-13T14:13:19.329552-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-tyg.5","depends_on_id":"WonderByWandering-tyg.1","type":"blocks","created_at":"2026-02-13T14:17:44.286655-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-tyg.6","title":"E3-6: Implement canvas persist/rehydrate","description":"File: src/store/persistence.ts\n\nOn state change (debounced 500ms): serialize {nodes, edges, viewport, activeNodeId, uiMode, answerVisibility, nodeStates} to chrome.storage.local under canvas_{sessionId}. On page load: rehydrate from storage or start fresh.\n\nAcceptance:\n- [ ] Closing and reopening canvas tab restores full state\n- [ ] Debounce prevents excessive writes (max 2 writes/sec)\n- [ ] Handles missing/corrupted state gracefully","status":"open","priority":2,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:13:23.848965-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:13:23.848965-08:00","labels":["code","epic-3"],"dependencies":[{"issue_id":"WonderByWandering-tyg.6","depends_on_id":"WonderByWandering-tyg","type":"parent-child","created_at":"2026-02-13T14:13:23.849573-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-tyg.6","depends_on_id":"WonderByWandering-tyg.2","type":"blocks","created_at":"2026-02-13T14:17:44.373563-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-tyg.6","depends_on_id":"WonderByWandering-doo.2","type":"blocks","created_at":"2026-02-13T14:17:44.459349-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-wq8","title":"Epic 6: Generation Pipeline","description":"Mock-first, model-optional generation: deterministic mock generator, optional Gemini path, structured prompts, and quality gates. 4 issues.","status":"open","priority":1,"issue_type":"epic","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:09:57.29322-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:09:57.29322-08:00"}
{"id":"WonderByWandering-wq8.1","title":"E6-1: Build deterministic mock generation","description":"File: src/generation/mockGenerator.ts\n\n3 functions: generatePathQuestions(sourceText, pathType) → {rootQuestion, branches:[{question,context}]}, generateAnswer(nodeData) → {summary, bullets[]}, generateBranches(nodeData, branchType) → [{question,context}]. Pre-written content per path type, selected by hash. Export unified GenerationProvider interface.\n\nAcceptance:\n- [ ] All 3 functions return structured, realistic data\n- [ ] Mock data deterministic for same inputs\n- [ ] Each path type produces visually different content\n- [ ] Full demo cycle works end-to-end (all mock)\n- [ ] No API key or network required\n\nCRITICAL: This unblocks E4-2, E5-2, E5-3. Ship early.","status":"closed","priority":0,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:15:26.970335-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:43:28.477922-08:00","closed_at":"2026-02-13T14:43:28.477922-08:00","close_reason":"Closed","labels":["code","epic-6"],"dependencies":[{"issue_id":"WonderByWandering-wq8.1","depends_on_id":"WonderByWandering-wq8","type":"parent-child","created_at":"2026-02-13T14:15:26.971203-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-wq8.1","depends_on_id":"WonderByWandering-jin.2","type":"blocks","created_at":"2026-02-13T14:18:44.677931-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-wq8.2","title":"E6-2: Build optional Gemini generation path","description":"File: src/generation/geminiGenerator.ts (implements GenerationProvider)\n\nReuse getKey() from background.js. Use gemini-2.5-flash. Each function sends structured prompt to Gemini, parses JSON response, validates shape. Falls back to mock on any error. Toggle: demoMode===false \u0026\u0026 apiKey exists → Gemini, else → mock.\n\nAcceptance:\n- [ ] Gemini generates real answers when API key configured + demoMode off\n- [ ] Falls back to mock on API error with console warning\n- [ ] Handles rate limits, safety filters, malformed responses, network failures\n- [ ] Response time acceptable (\u003c3s)","status":"open","priority":2,"issue_type":"feature","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:15:31.540282-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:15:31.540282-08:00","labels":["code","epic-6"],"dependencies":[{"issue_id":"WonderByWandering-wq8.2","depends_on_id":"WonderByWandering-wq8","type":"parent-child","created_at":"2026-02-13T14:15:31.540934-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-wq8.2","depends_on_id":"WonderByWandering-wq8.1","type":"blocks","created_at":"2026-02-13T14:18:44.764546-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-wq8.2","depends_on_id":"WonderByWandering-l65.4","type":"blocks","created_at":"2026-02-13T14:18:44.851434-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-wq8.2","depends_on_id":"WonderByWandering-wq8.3","type":"blocks","created_at":"2026-02-13T14:18:44.936531-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-wq8.3","title":"E6-3: Define structured prompt schema","description":"File: src/generation/prompts.ts\n\n3 prompt templates: (1) Path questions — given text + pathType, return JSON {rootQuestion, branches}, with few-shot examples per path. (2) Answer — given question + sourceText, return {summary, bullets[]}. (3) Branch — given content + branchType, return [{question, context}]. All include 'Return ONLY valid JSON' instruction.\n\nAcceptance:\n- [ ] All 3 templates defined with placeholders\n- [ ] Few-shot examples for path questions prompt\n- [ ] JSON contracts match GenerationProvider interface\n- [ ] Prompts instruct avoiding generic/vague questions","status":"closed","priority":1,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:15:36.478676-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:43:28.501615-08:00","closed_at":"2026-02-13T14:43:28.501615-08:00","close_reason":"Closed","labels":["code","epic-6"],"dependencies":[{"issue_id":"WonderByWandering-wq8.3","depends_on_id":"WonderByWandering-wq8","type":"parent-child","created_at":"2026-02-13T14:15:36.479382-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-wq8.3","depends_on_id":"WonderByWandering-jin.2","type":"blocks","created_at":"2026-02-13T14:18:45.021944-08:00","created_by":"Wenjix"}]}
{"id":"WonderByWandering-wq8.4","title":"E6-4: Add quality gates","description":"File: src/generation/qualityGates.ts\n\nPre-render validation: specificity gate (reject \u003c8 words or 'What is' starters), uniqueness gate (reject \u003e80% Jaccard similarity to existing), branchability gate (reject yes/no questions). On rejection: retry with appended instruction, max 2 retries. Bypass for mock data.\n\nAcceptance:\n- [ ] Generic questions caught and retried\n- [ ] Duplicate questions caught\n- [ ] Yes/no questions caught\n- [ ] Max retry limit prevents infinite loops\n- [ ] Quality gates bypassed for mock data","status":"open","priority":3,"issue_type":"task","owner":"wenjiefu8@gmail.com","created_at":"2026-02-13T14:15:40.844237-08:00","created_by":"Wenjix","updated_at":"2026-02-13T14:15:40.844237-08:00","labels":["code","epic-6"],"dependencies":[{"issue_id":"WonderByWandering-wq8.4","depends_on_id":"WonderByWandering-wq8","type":"parent-child","created_at":"2026-02-13T14:15:40.844929-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-wq8.4","depends_on_id":"WonderByWandering-wq8.1","type":"blocks","created_at":"2026-02-13T14:18:45.103731-08:00","created_by":"Wenjix"},{"issue_id":"WonderByWandering-wq8.4","depends_on_id":"WonderByWandering-wq8.2","type":"blocks","created_at":"2026-02-13T14:18:45.188202-08:00","created_by":"Wenjix"}]}
